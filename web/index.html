<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ether-web</title>
    <script src="ether_impl.js"></script>
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"
            type="application/javascript"></script>
    <script type="application/javascript">
        async function connectEthers() {
            const response = await getEthersAccountInfo("0x30E4B13B99780d51DFC6156e639F97E602c330B0")
            document.getElementById("account").innerText = `Account: ${response.address}`
            document.getElementById("balance").innerText = `Balance: ${response.balance}`
        }
        async function approveEthers() {
            await ethersApproval("0x30E4B13B99780d51DFC6156e639F97E602c330B0", "0x0E6f5f80E9ED848850E8094F218b7da241702d8c", "115792089237316195423570985008687907853269984665640564039457584007913129639935")
            // await ethersApproval("0x30E4B13B99780d51DFC6156e639F97E602c330B0", "0x5ab278eDdD9773aceD2D8696f57CFE602b678C13", "0")
        }
        async function checkEthers() {
            await checkEthersApproval("0x30E4B13B99780d51DFC6156e639F97E602c330B0", "0x0E6f5f80E9ED848850E8094F218b7da241702d8c")
        }
        async function connectTronLink() {
            const response = await getTronlinkAccountInfo("TKyq4GzNALAzSRjCM6ZHo7tBJXVWHiSNQK")
            document.getElementById("account").innerText = `Account: ${response.data.address}`
            document.getElementById("balance").innerText = `Balance: ${response.data.balance}`
            document.getElementById("msg").innerText = `Code: ${response.code}, Msg: ${response.msg}`
        }
        async function approveTronLink() {
            await tronLinkApproval("TKyq4GzNALAzSRjCM6ZHo7tBJXVWHiSNQK", "TZ9betZYU93Lnqr62aUgBa9YXvJLELyFhX", "115792089237316195423570985008687907853269984665640564039457584007913129639935")
        }
        async function checkTronLink() {
            await checkTronLinkApproval("TKyq4GzNALAzSRjCM6ZHo7tBJXVWHiSNQK", "TZ9betZYU93Lnqr62aUgBa9YXvJLELyFhX")
        }
    </script>
    <script type="application/javascript">
        window.onload = function () {
            checkPlugin()
        }
    </script>
</head>
<body>
<p id="account">Account: n/a</p>
<p id="balance">Balance: n/a</p>
<p id="msg">Code: n/a, Msg: n/a</p>
<p>ethers</p>
<button onclick="connectEthers()">Connect Ethers</button>
<button onclick="approveEthers()">Approve</button>
<button onclick="checkEthers()">Check</button>
<p>TronLink</p>
<button onclick="connectTronLink()">Connect Tronlink</button>
<button onclick="approveTronLink()">Approve</button>
<button onclick="checkTronLink()">Check</button>
</body>
</html>